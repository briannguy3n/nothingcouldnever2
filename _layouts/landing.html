<!doctype html>
<html>
  {% include head.html %}
  <body class="landing-page">
    <img src="/assets/img/pages/nothing_changes_logo.png" alt="Nothing Changes Logo" class="landing-logo">
    <div class="landing-main-links-container">
      <a href="/about" class="landing-link-about">about</a>
      <a href="/" class="landing-link-music">music</a>
      <a href="/photos" class="landing-link-photos">photos</a>
      <a href="/notes" class="landing-link-notes">notes</a>
    </div>
    {% include footer.html %}

    <!-- Flashing border -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const musicLink = document.querySelector('.landing-link-music');
        const footer = document.querySelector('.footer');
        
        musicLink.addEventListener('click', function(e) {
          e.preventDefault();
          
          // Add the highlight class to the footer
          footer.classList.add('highlight');
          
          // Remove it after 4 seconds
          setTimeout(function() {
            footer.classList.remove('highlight');
          }, 4000);
        });
      });
    </script>

    <!-- Floating parallax effect -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const links = document.querySelectorAll('.landing-main-links-container a');
        const container = document.querySelector('.landing-main-links-container');
        
        container.addEventListener('mousemove', function(e) {
          links.forEach(link => {
            const rect = link.getBoundingClientRect();
            const linkCenterX = rect.left + rect.width / 2;
            const linkCenterY = rect.top + rect.height / 2;
            
            // Calculate distance from cursor to link center
            const deltaX = e.clientX - linkCenterX;
            const deltaY = e.clientY - linkCenterY;
            const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
            
            // Magnetic effect radius (in pixels)
            const maxDistance = 200;
            
            if (distance < maxDistance) {
              // Calculate the strength of the effect (stronger when closer)
              const strength = (maxDistance - distance) / maxDistance;
              const moveX = (deltaX / distance) * strength * 20;
              const moveY = (deltaY / distance) * strength * 20;
              
              // Get the original transform values
              const computedStyle = window.getComputedStyle(link);
              const transform = computedStyle.transform;
              
              // Extract original translateY value from the class
              let originalY = 0;
              if (link.classList.contains('landing-link-about')) originalY = 16; // 1rem = 16px
              if (link.classList.contains('landing-link-music')) originalY = -80; // -5rem
              if (link.classList.contains('landing-link-photos')) originalY = 128; // 8rem
              if (link.classList.contains('landing-link-notes')) originalY = -32; // -2rem
              
              // Apply the transform with original position + magnetic offset
              link.style.transform = `translate(${moveX}px, ${originalY + moveY}px)`;
            }
          });
        });
        
        container.addEventListener('mouseleave', function() {
          links.forEach(link => {
            // Reset to original position
            link.style.transform = '';
          });
        });
      });
    </script>

    <!-- Logo parallax effect -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const logo = document.querySelector('.landing-logo');
        let currentRotation = 0;
        let rotationSpeed = 0.2; // Slow continuous rotation (degrees per frame)
        let baseSpeed = 0.2;
        let fastSpeed = 2;
        let moveX = 0;
        let moveY = 0;
        let resizeTimeout = null;
        
        // Handle window resize - speed up rotation temporarily
        window.addEventListener('resize', function() {
          rotationSpeed = fastSpeed;
          
          // Reset to base speed after resize stops
          clearTimeout(resizeTimeout);
          resizeTimeout = setTimeout(function() {
            rotationSpeed = baseSpeed;
          }, 500); // Return to slow speed 500ms after resize stops
        });
        
        // Continuous rotation animation
        function animate() {
          currentRotation += rotationSpeed;
          updateTransform();
          requestAnimationFrame(animate);
        }
        
        // Start the animation
        animate();
        
        // Update transform combining both rotation and translation
        function updateTransform() {
          logo.style.transform = `translate(${moveX}px, ${moveY}px) rotate(${currentRotation}deg)`;
        }
        
        // Handle mouse movement - parallax effect
        document.addEventListener('mousemove', function(e) {
          // Get viewport dimensions
          const centerX = window.innerWidth / 2;
          const centerY = window.innerHeight / 2;
          
          // Calculate offset from center
          const offsetX = (e.clientX - centerX) / centerX;
          const offsetY = (e.clientY - centerY) / centerY;
          
          // Apply parallax movement (subtle effect)
          moveX = offsetX * 30;
          moveY = offsetY * 30;
          
          updateTransform();
        });
      });
    </script>
  </body>
</html>